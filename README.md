# üí¨ FastAPI Chat API

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —á–∞—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebSocket, –≥—Ä—É–ø–ø –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ FastAPI –∏ SQLAlchemy —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PostgreSQL.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- üë• –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üí¨ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —á–∞—Ç—É —á–µ—Ä–µ–∑ WebSocket
- üïò –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- üßπ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ ID —á–∞—Ç–∞

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **FastAPI** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAlchemy (Async)** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **WebSocket** ‚Äî —Ä–µ–∞–ª—Ç–∞–π–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **Pydantic** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **[UV](https://docs.astral.sh/uv/)** ‚Äî –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä  

## –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone git@github.com:Grimorum1/Messenger.git
cd Messenger
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ docker compose

```bash
docker compose up 
```


## Swagger UI

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:8000/docs`


## WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —á–∞—Ç—É —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é `POST` –∑–∞–ø—Ä–æ—Å–∞ - http://localhost:8000/chat/

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket —á–∞—Ç—É:
```bash
ws://localhost:8000/chat/ws/{client_id}/{chat_id}
```
–ü—Ä–∏–º–µ—Ä:

```bash
ws://localhost:8000/chat/ws/1/5
```


## üë®‚Äçüíª –ê–≤—Ç–æ—Ä
–ü—Ä–æ—à—É —Å—Ç—Ä–æ–≥–æ –Ω–µ —Å—É–¥–∏—Ç—å, –¥–µ–ª–∞–ª–æ—Å—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ, –∑–∞ –ø–∞—Ä—É –¥–Ω–µ–π. –í—Å–µ–º –¥–æ–±—Ä–∞)